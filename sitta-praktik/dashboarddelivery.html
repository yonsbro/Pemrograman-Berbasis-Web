<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Tracking DO</title>
    <style>
      /* Gaya Dasar */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f4f7f6;
        margin: 0;
        padding: 20px;
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .container {
        width: 100%;
        max-width: 800px;
        background-color: #ffffff;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      h2 {
        color: #007bff;
        border-bottom: 2px solid #007bff;
        padding-bottom: 10px;
        margin-bottom: 20px;
        text-align: center;
      }

      /* Gaya Pencarian */
      .search-box {
        display: flex;
        gap: 10px;
        margin-bottom: 30px;
        padding: 15px;
        background-color: #e9f7ff;
        border-radius: 8px;
      }

      .search-box input {
        flex-grow: 1;
        padding: 10px 15px;
        border: 1px solid #ced4da;
        border-radius: 5px;
        font-size: 1em;
      }

      .search-box button {
        padding: 10px 20px;
        background-color: #28a745;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1em;
        transition: background-color 0.3s;
      }

      .search-box button:hover {
        background-color: #1e7e34;
      }

      /* Gaya Hasil (Tracking Result) */
      #trackingResult {
        padding: 20px;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        background-color: #fcfcfc;
        min-height: 150px;
      }

      .result-group h3 {
        color: #007bff;
        margin-top: 0;
        margin-bottom: 15px;
      }

      .detail-list {
        list-style: none;
        padding: 0;
        margin: 15px 0 0 0;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px 20px;
        border-top: 1px dashed #ced4da;
        padding-top: 15px;
      }

      .detail-list li {
        padding: 5px 0;
        font-size: 0.95em;
      }

      .detail-list strong {
        display: inline-block;
        width: 120px;
        color: #555;
      }

      /* Gaya Progress Bar */
      .progress-bar-container {
        margin-top: 20px;
        margin-bottom: 20px;
      }

      .progress-bar {
        width: 100%;
        height: 25px;
        background-color: #e9ecef;
        border-radius: 5px;
        overflow: hidden;
      }

      .progress-indicator {
        height: 100%;
        text-align: right;
        padding-right: 10px;
        line-height: 25px;
        color: white;
        transition: width 1s ease-in-out, background-color 1s;
      }

      /* Warna Status */
      .status-kirim {
        background-color: #ffc107;
        width: 30%;
      } /* Dikirim */
      .status-transit {
        background-color: #17a2b8;
        width: 60%;
      } /* Transit */
      .status-terima {
        background-color: #28a745;
        width: 100%;
      } /* Diterima */

      .status-info {
        font-weight: bold;
        margin-top: 5px;
        font-size: 1.1em;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h2>ðŸšš Tracking Pengiriman Bahan Ajar</h2>

      <div class="search-box">
        <input
          type="text"
          id="doInput"
          placeholder="Masukkan Nomor Delivery Order (mis: DO-101)"
        />
        <button onclick="cariDO()">Cari</button>
      </div>

      <div id="trackingResult">
        <p style="text-align: center; color: #6c757d">
          Masukkan Nomor DO di atas untuk melihat status pengiriman.
        </p>
      </div>
    </div>

    <script>
      // Data Dummy untuk Simulasi Tracking
      const dataTracking = [
        {
          do: "DO-101",
          nama: "Rizky Firmansyah",
          status: "terima", // terima, transit, kirim
          ekspedisi: "JNE YES",
          tanggal: "28 Oktober 2025",
          jenis: "Buku Paket A",
          total: "Rp 75.000",
          progress: 100,
        },
        {
          do: "DO-102",
          nama: "Sari Dewi",
          status: "transit",
          ekspedisi: "SiCepat",
          tanggal: "30 Oktober 2025",
          jenis: "Modul Daring",
          total: "Rp 40.000",
          progress: 60,
        },
        {
          do: "DO-103",
          nama: "Bambang Susilo",
          status: "kirim",
          ekspedisi: "J&T Express",
          tanggal: "02 November 2025",
          jenis: "Buku Paket B",
          total: "Rp 62.000",
          progress: 30,
        },
      ];

      // Fungsi Pencarian Data
      function cariDO() {
        const doNumber = document
          .getElementById("doInput")
          .value.toUpperCase()
          .trim();
        const resultDiv = document.getElementById("trackingResult");
        const data = dataTracking.find((item) => item.do === doNumber);

        if (data) {
          // Data ditemukan, tampilkan detail
          resultDiv.innerHTML = generateResultHTML(data);
          animateProgressBar(data);
        } else {
          // Data tidak ditemukan
          resultDiv.innerHTML = `
                    <p style="text-align: center; color: #dc3545; font-weight: bold;">
                        Nomor Delivery Order "${doNumber}" tidak ditemukan.
                    </p>
                `;
        }
      }

      // Fungsi Pembuatan Tampilan Hasil (HTML)
      function generateResultHTML(data) {
        let statusText = "";
        let statusClass = "";

        if (data.status === "terima") {
          statusText = "DITERIMA";
          statusClass = "status-terima";
        } else if (data.status === "transit") {
          statusText = "DALAM PERJALANAN (TRANSIT)";
          statusClass = "status-transit";
        } else {
          statusText = "SIAP KIRIM / BARU DIKIRIM";
          statusClass = "status-kirim";
        }

        return `
                <div class="result-group">
                    <h3>Nama Mahasiswa: ${data.nama}</h3>
                </div>

                <div class="progress-bar-container">
                    <p class="status-info">Status: ${statusText} </p>
                    <div class="progress-bar">
                        <div id="indicator-${data.do}" class="progress-indicator ${statusClass}" style="width: 0;">
                            ${data.progress}%
                        </div>
                    </div>
                </div>

                <ul class="detail-list">
                    <li><strong>Nomor DO:</strong> ${data.do}</li>
                    <li><strong>Ekspedisi:</strong> ${data.ekspedisi}</li>
                    <li><strong>Tanggal Kirim:</strong> ${data.tanggal}</li>
                    <li><strong>Jenis Paket:</strong> ${data.jenis}</li>
                    <li><strong>Total Pembayaran:</strong> ${data.total}</li>
                </ul>
            `;
      }

      // Fungsi Animasi Progress Bar
      function animateProgressBar(data) {
        const indicator = document.getElementById(`indicator-${data.do}`);
        if (indicator) {
          // Atur lebar setelah konten dimuat
          setTimeout(() => {
            indicator.style.width = `${data.progress}%`;
          }, 100);
        }
      }

      // Atur input DO agar tombol "Cari" berfungsi saat Enter ditekan
      document
        .getElementById("doInput")
        .addEventListener("keyup", function (event) {
          if (event.key === "Enter") {
            cariDO();
          }
        });
    </script>
  </body>
</html>
